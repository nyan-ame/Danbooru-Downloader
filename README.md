# Danbooru-Downloader
Лёгкий и простой в освоении загрузчик изображений, видео и GIF с [Danbooru]((https://danbooru.donmai.us/)). Основной код был написан с помощью [qwen'a](https://chat.qwen.ai/), последующие правки вплоть до актуальной версии вносились с помощью [gemini](https://gemini.google.com/)

# ПРОЧТИТЕ ПЕРЕД ИСПОЛЬЗОВАНИЕМ
Скрипт тестировался только на моём пк, где на борту стоит Chrome v126.0.6478.127. Скрипт использует chromedriver по невероятно важным обстоятельствам, а потому я смею предположить, что для работоспособности должен быть также установлен браузер **Google Chrome** и ***подходящая*** версия chromedriver. Найти такую можно [здесь](https://github.com/jsnjack/chromedriver/releases) (выбирается строго по версии браузера, что сейчас стоит у вас на борту)
> в скрипт интегрирована версия для *моего* браузера.

## ВАЖНО
Со стороны сайта идёт ограничение на длительность сессии. Таймер установлен ровно на 30 минут. Если скормить скрипту слишком много ссылок, спустя полчаса он вновь запросит прохождение капчи, которую пройти в той же сессии скрипта невозможно, потребуется перезапуск с предварительной чисткой отработанных ссылок (по крайней мере, пока что этот вопрос остаётся нерешённым)

### Как с этим работать:
0) Прежде всего на компьютере **должен** быть установлен Python 3.13.3 (или новее)
1) Откройте командную строку в папке, где располагается скрипт *(щёлкнуть по пути до папки и вписать туда cmd)*
2) В командной строке нужно написать `pip install -r libs.txt`. После установки библиотек *libs.txt* можно удалить.
3) Инструкция для работы с терминальным режимом скрипта (`danbooru_downloader.py`):
   * Открыть settings.json
   * Указать ваш username, api_key и путь до chromedriver.exe. Например, "C:\\Users\\%username%\\Desktop\\Danbooru Downloader v2\\chromedriver\\chromedriver.exe" (**ОБЯЗАТЕЛЬНО** ставить \\, а не \, иначе скрипт работать *не* будет)
   * Открыть links.txt и добавить туда ссылки на посты.
   * Запустить `danbooru_downloader.py` двойным кликом
   * Откроется chromedriver с просьбой пройти Cloudflare капчу, вам нужно её пройти, после чего в терминале нажать Enter
   * По окончанию работы закрыть chromedriver и/или терминал.
4) Инструкция для работы с интерфейсным режимом скрипта (`danbooru_gui.py`):
   * Запустить `danbooru_gui.py`
   * Перейти во вкладку "Настройки"
   * Указать username, api_key и путь до chromedriver.exe, после чего сохранить настройки.
   * Перейти во вкладку "Ссылки" и добавить ссылки на посты.
   * Перейти во вкладку "Загрузка", нажать "Начать загрузку"
   * Откроется chromedriver с просьбой пройти Cloudflare капчу, вам нужно её пройти, после чего в интерфейсе нажать кнопку "Продолжить (Cloudflare)" - начнётся загрузка файлов.
   * По окончанию работы закрыть chromedriver и/или терминал и/или интерфейс.
  
В планах расширить функционал скрипта, чтобы тот также умел подхватывать содержимое [gelbooru](https://gelbooru.com/), [yande.re](https://yande.re/) и [sankaku complex](https://chan.sankakucomplex.com/) (возможно, также будет работать и новый [sankaku](https://sankakucomplex.com), хотя по сути это один и тот же сайт.)
